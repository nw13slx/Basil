<script>

// the array of all containers
let containers = Array.from(document.querySelectorAll(".w3-display-container"));

// for each conteiner
containers.forEach(c =>{
  // get the array of images in this container
  let images = Array.from(c.querySelectorAll(".mySlides"));
  //the left button for this container
  let left = c.querySelector(".w3-display-left");
  //the right button for this container
  let right = c.querySelector(".w3-display-right");

  plusDivs(0,images);


  // events for the this left and right buttons
  left.addEventListener("click", ()=>{plusDivs(-1,images)})
  right.addEventListener("click", ()=>{plusDivs(1,images)})
})


function showDivs(x, idx) {
  if (idx > x.length-1) {idx = 0}
  if (idx < 0) {idx = x.length-1}

  //All the slides are display="none"
  for (let i = 0; i < x.length; i++) {
     x[i].style.display = "none";
  }
  // the current slide is display = "block";
  x[idx].style.display = "block";

}

function plusDivs(n,x) {

  //find the current one
  var idx = 0;
  for (let i = 0; i < x.length; i++) {
      if ( x[i].style.display == "block"){
          idx = i
      }
  }
  // increment the value for the slideIndex and show the slide
  idx += n;
  showDivs(x, idx);
}
</script>
